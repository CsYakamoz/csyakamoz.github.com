<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.80.0" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="CsYakamoz" />
  <meta property="og:url" content="https://csyakamoz.github.io/post/coding-style/" />
  <link rel="canonical" href="https://csyakamoz.github.io/post/coding-style/" /><link rel="preload" href="/js/highlight.pack.js" as="script" /><link rel="alternate" type="application/atom+xml" href="https://csyakamoz.github.ioindex.xml" title="CsYakamoz`s Blog">

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https:\/\/csyakamoz.github.io"
      },
      "articleSection" : "post",
      "name" : "编码风格",
      "headline" : "编码风格",
      "description" : "ESLint  ESLint is a tool for identifying and reporting on patterns found in ECMAScript\/JavaScript code, with the goal of making code more consistent and avoiding bugs.\n 以下风格都会尽量补充对应的 eslint 规则（如果有且被我发现的话 😑\nNotice: 请优先以团队约定为准！\n缩进使用空格而不是制表符 尽管制表符更省空间，但还是更喜欢空格\n one tab is equal to 2, 4, 8 space\n  no-tabs  坚持使用分号 纵然很多人依旧坚持不使用分号，但我就喜欢加分号，就这么滴。\n semi  坚持使用大括号 即使只有一条语句，也依旧要使用大括号；\n同时，else 与 if 的 } 处在统一行；\n\/\/ bad if (test) return false; else return true; \/\/ bad if (test) return false; else return true; \/\/ bad if (test) { return false; } else { return true; } \/\/ good if (test) { return false; } else { return true; }  curly brace-style nonblock-statement-body-position  const 优于 let, 弃用 var var 的坏处，此处不一一阐述；",
      "inLanguage" : "en-US",
      "author" : "CsYakamoz",
      "creator" : "CsYakamoz",
      "publisher": "CsYakamoz",
      "accountablePerson" : "CsYakamoz",
      "copyrightHolder" : "CsYakamoz",
      "copyrightYear" : "2020",
      "datePublished": "2020-09-09 10:32:18 \u002b0800 CST",
      "dateModified" : "2020-09-09 10:32:18 \u002b0800 CST",
      "url" : "https:\/\/csyakamoz.github.io\/post\/coding-style\/",
      "keywords" : [ "javascript","coding-style", ]
  }
</script>
<title>编码风格 - CsYakamoz`s Blog</title>
  <meta property="og:title" content="编码风格 - CsYakamoz`s Blog" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="ESLint  ESLint is a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code, with the goal of making code more consistent and avoiding bugs.
 以下风格都会尽量补充对应的 eslint 规则（如果有且被我发现的话 😑
Notice: 请优先以团队约定为准！
缩进使用空格而不是制表符 尽管制表符更省空间，但还是更喜欢空格
 one tab is equal to 2, 4, 8 space
  no-tabs  坚持使用分号 纵然很多人依旧坚持不使用分号，但我就喜欢加分号，就这么滴。
 semi  坚持使用大括号 即使只有一条语句，也依旧要使用大括号；
同时，else 与 if 的 } 处在统一行；
// bad if (test) return false; else return true; // bad if (test) return false; else return true; // bad if (test) { return false; } else { return true; } // good if (test) { return false; } else { return true; }  curly brace-style nonblock-statement-body-position  const 优于 let, 弃用 var var 的坏处，此处不一一阐述；" />
  <meta name="description" content="ESLint  ESLint is a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code, with the goal of making code more consistent and avoiding bugs.
 以下风格都会尽量补充对应的 eslint 规则（如果有且被我发现的话 😑
Notice: 请优先以团队约定为准！
缩进使用空格而不是制表符 尽管制表符更省空间，但还是更喜欢空格
 one tab is equal to 2, 4, 8 space
  no-tabs  坚持使用分号 纵然很多人依旧坚持不使用分号，但我就喜欢加分号，就这么滴。
 semi  坚持使用大括号 即使只有一条语句，也依旧要使用大括号；
同时，else 与 if 的 } 处在统一行；
// bad if (test) return false; else return true; // bad if (test) return false; else return true; // bad if (test) { return false; } else { return true; } // good if (test) { return false; } else { return true; }  curly brace-style nonblock-statement-body-position  const 优于 let, 弃用 var var 的坏处，此处不一一阐述；" />
  <meta property="og:locale" content="zh-cn" />

  <link rel="stylesheet" href="/css/flexboxgrid-6.3.1.min.css" />
  <link rel="stylesheet" href="/css/github-markdown.css" />
  <link rel="stylesheet" href="/css/highlight/tomorrow.min.css" />
  <link rel="stylesheet" href="/css/index.css">

  

  <link href="/index.xml" rel="alternate" type="application/rss+xml"
    title="CsYakamoz`s Blog">
  
  <link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif" rel="stylesheet">
  
  

  
  
</head>


<body>
  <article class="post Chinese" id="article">
    <div class="row">
      <div class="col-xs-12">
        <div class="site-header">
          
<header>
  <div class="signatures site-title">
    <a href="/">CsYakamoz</a>
  </div>
</header>
<div class="row end-xs">
  
  
</div>
<div class="header-line"></div>

        </div>
        <header class="post-header">
          <h1 class="post-title">编码风格</h1>
          
          <div class="row post-desc">
            <div class="col-xs-6">
              
              <time class="post-date" datetime="2020-09-09 10:32:18 CST">
                09 Sep 2020
              </time>
              
            </div>
            <div class="col-xs-6">
              
              <div class="post-author">
                <a target="_blank" href="">@CsYakamoz</a>
              </div>
              
            </div>
          </div>
          
        </header>

        <div class="post-content markdown-body">
          
          <h2 id="eslint">ESLint</h2>
<blockquote>
<p><a href="https://eslint.org/">ESLint</a> is a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code, with the goal of making code more consistent and avoiding bugs.</p>
</blockquote>
<p>以下风格都会尽量补充对应的 eslint 规则（如果有且被我发现的话 😑</p>
<p><strong>Notice</strong>: 请优先以团队约定为准！</p>
<h2 id="缩进使用空格而不是制表符">缩进使用空格而不是制表符</h2>
<p>尽管制表符更省空间，但还是更喜欢空格</p>
<blockquote>
<p>one tab is equal to 2, 4, 8 space</p>
</blockquote>
<ul>
<li><a href="https://eslint.org/docs/rules/no-tabs"><code>no-tabs</code></a></li>
</ul>
<h2 id="坚持使用分号">坚持使用分号</h2>
<p>纵然很多人依旧坚持不使用分号，但我就喜欢加分号，就这么滴。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/semi"><code>semi</code></a></li>
</ul>
<h2 id="坚持使用大括号">坚持使用大括号</h2>
<p>即使只有一条语句，也依旧要使用大括号；</p>
<p>同时，<code>else</code> 与 <code>if</code> 的 <code>}</code> 处在统一行；</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">test</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">test</span>)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
<span style="color:#66d9ef">else</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">test</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
}
<span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">test</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
} <span style="color:#66d9ef">else</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
}
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/curly"><code>curly</code></a></li>
<li><a href="https://eslint.org/docs/rules/brace-style"><code>brace-style</code></a></li>
<li><a href="https://eslint.org/docs/rules/nonblock-statement-body-position"><code>nonblock-statement-body-position</code></a></li>
</ul>
<h2 id="const-优于-let-弃用-var">const 优于 let, 弃用 var</h2>
<p><code>var</code> 的坏处，此处不一一阐述；</p>
<p><code>let</code> 声明的变量，其生存周期只在其声明时所在的代码块有效，且不存在 &ldquo;变量提升&rdquo; 现象，当然还有其它好处，此处也不一一阐述；</p>
<p><code>const</code> 与 <code>let</code> 最大区别是：<code>const</code> 声明时必须就为其赋值，且该值不能改变；</p>
<p>使用 <code>const</code> 能减少程序的不确定性，因为我们能确保其值不会改变，因此如果一个变量在声明时被赋值，且后续逻辑中并没有改变其值，我们应当将其变成常量。</p>
<p>目前个人遇到的绝大部分情况，都可以用 <code>const</code> 代替 <code>let</code>，下面是一个场景：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">discount</span>;

<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isLoggedIn</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">cartTotal</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">isFriday</span>) {
    <span style="color:#a6e22e">discount</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>;
  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isValuedCustomer</span>) {
    <span style="color:#a6e22e">discount</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>;
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">discount</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
  }
} <span style="color:#66d9ef">else</span> {
  <span style="color:#a6e22e">discount</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">getDiscount</span> <span style="color:#f92672">=</span> ({ <span style="color:#a6e22e">isLoggedIn</span>, <span style="color:#a6e22e">cartTotal</span>, <span style="color:#a6e22e">isValuedCustomer</span> }) =&gt; {
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isLoggedIn</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">cartTotal</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">isFriday</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">30</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isValuedCustomer</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">20</span>;
  }

  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">10</span>;
};

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">discount</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getDiscount</span>({ <span style="color:#a6e22e">isLoggedIn</span>, <span style="color:#a6e22e">isValuedCustomer</span>, <span style="color:#a6e22e">cartTotal</span> });
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/no-undef"><code>no-undef</code></a></li>
<li><a href="https://eslint.org/docs/rules/prefer-const"><code>prefer-const</code></a></li>
<li><a href="https://eslint.org/docs/rules/no-const-assign"><code>no-const-assign</code></a></li>
<li><a href="https://eslint.org/docs/rules/no-var"><code>no-var</code></a></li>
</ul>
<h2 id="多个变量声明或赋值则每个变量分开声明或赋值">多个变量声明或赋值，则每个变量分开声明或赋值</h2>
<p><code>let</code> 声明放在一组，<code>const</code> 则放在另外一组</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getItems</span>(),
  <span style="color:#a6e22e">goSportsTeam</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
  <span style="color:#a6e22e">dragonball</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;z&#34;</span>;

<span style="color:#75715e">// bad
</span><span style="color:#75715e">// (compare to above, and try to spot the mistake)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getItems</span>(),
  <span style="color:#a6e22e">goSportsTeam</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
  <span style="color:#a6e22e">dragonball</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;z&#34;</span>;

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getItems</span>();
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">goSportsTeam</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">dragonball</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;z&#34;</span>;

<span style="color:#75715e">/* --- */</span>
<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span>,
  <span style="color:#a6e22e">len</span>,
  <span style="color:#a6e22e">dragonball</span>,
  <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getItems</span>(),
  <span style="color:#a6e22e">goSportsTeam</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getItems</span>();
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">dragonball</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">goSportsTeam</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">len</span>;

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">goSportsTeam</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getItems</span>();
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">dragonball</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span>;
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">length</span>;
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/one-var"><code>one-var</code></a></li>
</ul>
<h2 id="在需要时才声明变量">在需要时，才声明变量</h2>
<p>而不是一开始就声明可能用到的变量</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad - unnecessary function call
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkName</span>(<span style="color:#a6e22e">hasName</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getName</span>();

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">hasName</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;test&#34;</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">name</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;test&#34;</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;&#34;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">name</span>;
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkName</span>(<span style="color:#a6e22e">hasName</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">hasName</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;test&#34;</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getName</span>();

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">name</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#34;test&#34;</span>) {
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">setName</span>(<span style="color:#e6db74">&#34;&#34;</span>);
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">name</span>;
}
</code></pre></div><h2 id="不允许未使用的变量">不允许未使用的变量</h2>
<blockquote>
<p>Why? Variables that are declared and not used anywhere in the code are most likely an error due to incomplete refactoring. Such variables take up space in the code and can lead to confusion by readers.</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">some_unused_var</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;

<span style="color:#75715e">// Write-only variables are not considered as used.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
<span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;

<span style="color:#75715e">// A read for a modification of itself is not considered as used.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">z</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;

<span style="color:#75715e">// Unused function arguments.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getX</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span>;
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getXPlusY</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span>;
}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>;

<span style="color:#a6e22e">alert</span>(<span style="color:#a6e22e">getXPlusY</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>));

<span style="color:#75715e">// &#39;type&#39; is ignored even if unused because it has a rest property sibling.
</span><span style="color:#75715e">// This is a form of extracting an object that omits the specified keys.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> { <span style="color:#a6e22e">type</span>, ...<span style="color:#a6e22e">coords</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>;
<span style="color:#75715e">// &#39;coords&#39; is now the &#39;data&#39; object without its &#39;type&#39; property.
</span></code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/no-unused-vars"><code>no-unused-vars</code></a></li>
</ul>
<h2 id="变量常量函数和类的命名约定">变量，常量，函数和类的命名约定</h2>
<p>当命名变量和方法的时候，使用 <strong>lowerCamelCase</strong>;</p>
<p>当命名类的时候，使用 <strong>UpperCamelCase</strong> （首字母大写）;</p>
<p>对于常量，则 <strong>UPPERCASE with Underscore</strong>;</p>
<p>这将帮助您轻松地区分普通变量 / 函数和需要实例化的类；使用描述性名称，但使它们尽量简短。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/camelcase"><code>camelcase</code></a></li>
<li><a href="https://eslint.org/docs/rules/new-cap"><code>new-cap</code></a></li>
</ul>
<h2 id="ifelifelse-的注释">if&hellip;elif&hellip;else 的注释</h2>
<p>因为 <code>else</code> 与 <code>if</code> 的 <code>}</code> 处在同一行，其注释写法可以如下</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * condition1: your comment
</span><span style="color:#75715e"> * condition2: your comment
</span><span style="color:#75715e"> * other: your comment
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">condition1</span>) {
  <span style="color:#75715e">// doSomething
</span><span style="color:#75715e"></span>} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">condition2</span>) {
  <span style="color:#75715e">// doSomething
</span><span style="color:#75715e"></span>} <span style="color:#66d9ef">else</span> {
  <span style="color:#75715e">// doSomething
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 id="对象属性或方法名仅在需要时才加上引号">对象属性或方法名仅在需要时才加上引号</h2>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bad</span> <span style="color:#f92672">=</span> {
  <span style="color:#e6db74">&#39;foo&#39;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>,
  <span style="color:#e6db74">&#39;bar&#39;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span>,
  <span style="color:#e6db74">&#39;data-blah&#39;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
};

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">good</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">foo</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>,
  <span style="color:#a6e22e">bar</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span>,
  <span style="color:#e6db74">&#39;data-blah&#39;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>,
};
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/quote-props"><code>quote-props</code></a></li>
</ul>
<h2 id="优先使用对象字面量简写语法">优先使用对象字面量简写语法</h2>
<p>简写语法：</p>
<ol>
<li>方法不需要加 <code>function</code></li>
<li>同名属性 / 方法不需要 <code>key: key,</code>，写成 <code>key,</code> 即可</li>
</ol>
<p>简写语法应当放在对象声明的开头</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lukeSkywalker</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Luke Skywalker&#34;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">moonWithoutStar</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;moon without star&#34;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">method</span> <span style="color:#f92672">=</span> () =&gt; <span style="color:#e6db74">&#34;always&#34;</span>;

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">atom</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">lukeSkywalker</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">lukeSkywalker</span>,

  <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
  <span style="color:#a6e22e">moonWithoutStar</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">moonWithoutStar</span>,

  <span style="color:#a6e22e">addValue</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">atom</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">value</span>;
  },

  <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">method</span>,
};

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">atom</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">lukeSkywalker</span>,
  <span style="color:#a6e22e">moonWithoutStar</span>,
  <span style="color:#a6e22e">method</span>,

  <span style="color:#a6e22e">value</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,

  <span style="color:#a6e22e">addValue</span>(<span style="color:#a6e22e">value</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">atom</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">value</span>;
  },
};
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/object-shorthand"><code>object-shorthand</code></a></li>
</ul>
<h2 id="优先通过扩展运算符来浅拷贝对象数组">优先通过扩展运算符来浅拷贝对象，数组</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/* 对象 */</span>
<span style="color:#75715e">// very bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">original</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> };
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">copy</span> <span style="color:#f92672">=</span> Object.<span style="color:#a6e22e">assign</span>(<span style="color:#a6e22e">original</span>, { <span style="color:#a6e22e">c</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span> }); <span style="color:#75715e">// this mutates `original` ಠ_ಠ
</span><span style="color:#75715e"></span><span style="color:#66d9ef">delete</span> <span style="color:#a6e22e">copy</span>.<span style="color:#a6e22e">a</span>; <span style="color:#75715e">// so does this
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">original</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> };
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">copy</span> <span style="color:#f92672">=</span> Object.<span style="color:#a6e22e">assign</span>({}, <span style="color:#a6e22e">original</span>, { <span style="color:#a6e22e">c</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span> }); <span style="color:#75715e">// copy =&gt; { a: 1, b: 2, c: 3 }
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">original</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> };
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">copy</span> <span style="color:#f92672">=</span> { ...<span style="color:#a6e22e">original</span>, <span style="color:#a6e22e">c</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span> }; <span style="color:#75715e">// copy =&gt; { a: 1, b: 2, c: 3 }
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">a</span>, ...<span style="color:#a6e22e">noA</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">copy</span>; <span style="color:#75715e">// noA =&gt; { b: 2, c: 3 }
</span><span style="color:#75715e"></span>
<span style="color:#75715e">/* 数组 */</span>
<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">len</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">length</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">itemsCopy</span> <span style="color:#f92672">=</span> [];
<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span>;

<span style="color:#66d9ef">for</span> (<span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">len</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>) {
  <span style="color:#a6e22e">itemsCopy</span>[<span style="color:#a6e22e">i</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">items</span>[<span style="color:#a6e22e">i</span>];
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">itemsCopy</span> <span style="color:#f92672">=</span> [...<span style="color:#a6e22e">items</span>];
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/prefer-object-spread"><code>prefer-object-spread</code></a></li>
</ul>
<h2 id="尽可能使用解构赋值">尽可能使用解构赋值</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getFullName</span>(<span style="color:#a6e22e">user</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">firstName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">firstName</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lastName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">lastName</span>;

  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">lastName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getFullName</span>(<span style="color:#a6e22e">user</span>) {
  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">firstName</span>, <span style="color:#a6e22e">lastName</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">lastName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
}

<span style="color:#75715e">// best
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getFullName</span>({ <span style="color:#a6e22e">firstName</span>, <span style="color:#a6e22e">lastName</span> }) {
  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">firstName</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">lastName</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
}

<span style="color:#75715e">/* --- */</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>];

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">first</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">0</span>];
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">second</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">1</span>];

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">first</span>, <span style="color:#a6e22e">second</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>;
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/prefer-destructuring"><code>prefer-destructuring</code></a></li>
</ul>
<h2 id="字符串避免无用的转义">字符串避免无用的转义</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#39;this&#39; is \&#34;quoted\&#34;&#34;</span>;

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#39;this&#39; is \&#34;quoted\&#34;&#34;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`my name is &#39;</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;`</span>;
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/no-useless-escape"><code>no-useless-escape</code></a></li>
</ul>
<h2 id="如果函数返回值有多个且意义不一样优先考虑对象">如果函数返回值有多个，且意义不一样，优先考虑对象</h2>
<blockquote>
<p>Why? You can add new properties over time or change the order of things without breaking call sites.</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">processInput</span>(<span style="color:#a6e22e">input</span>) {
  <span style="color:#75715e">// then a miracle occurs
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> [<span style="color:#a6e22e">left</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">top</span>, <span style="color:#a6e22e">bottom</span>];
}

<span style="color:#75715e">// the caller needs to think about the order of return data
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">left</span>, <span style="color:#a6e22e">__</span>, <span style="color:#a6e22e">top</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">processInput</span>(<span style="color:#a6e22e">input</span>);

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">processInput</span>(<span style="color:#a6e22e">input</span>) {
  <span style="color:#75715e">// then a miracle occurs
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">left</span>, <span style="color:#a6e22e">right</span>, <span style="color:#a6e22e">top</span>, <span style="color:#a6e22e">bottom</span> };
}

<span style="color:#75715e">// the caller selects only the data they need
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">left</span>, <span style="color:#a6e22e">top</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">processInput</span>(<span style="color:#a6e22e">input</span>);
</code></pre></div><h2 id="函数的默认参数总是放在后面">函数的默认参数总是放在后面</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">handleThings</span>(<span style="color:#a6e22e">opts</span> <span style="color:#f92672">=</span> {}, <span style="color:#a6e22e">name</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">handleThings</span>(<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">opts</span> <span style="color:#f92672">=</span> {}) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 id="尽量使用扩展语法调用可变参数函数">尽量使用扩展语法调用可变参数函数</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>];
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#a6e22e">console</span>, <span style="color:#a6e22e">x</span>);

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>];
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(...<span style="color:#a6e22e">x</span>);

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">new</span> (Function.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">bind</span>.<span style="color:#a6e22e">apply</span>(Date, [<span style="color:#66d9ef">null</span>, <span style="color:#ae81ff">2016</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">5</span>]))();

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">new</span> Date(...[<span style="color:#ae81ff">2016</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">5</span>]);
</code></pre></div><h2 id="回调函数总是使用箭头函数表达式">回调函数总是使用箭头函数表达式</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">x</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>;
});

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">x</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>;
});
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/prefer-arrow-callback"><code>prefer-arrow-callback</code></a></li>
</ul>
<h2 id="限制函数参数个数">限制函数参数个数</h2>
<p>函数如果有许多参数的话，会难以阅读和书写，因为要记住每个参数是什么，它的类型以及它们出现顺序；</p>
<p>因此建议，约定一个函数中参数个数的上限。</p>
<p>如果函数参数个数无法缩减，可以将这些参数合并成一个对象，然后在函数实现中使用对象解构。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>(<span style="color:#a6e22e">bar</span>, <span style="color:#a6e22e">baz</span>, <span style="color:#a6e22e">qux</span>, <span style="color:#a6e22e">xyz</span>) {
  <span style="color:#a6e22e">doSomething</span>();
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>({ <span style="color:#a6e22e">bar</span>, <span style="color:#a6e22e">baz</span>, <span style="color:#a6e22e">qux</span>, <span style="color:#a6e22e">xyz</span> }) {
  <span style="color:#a6e22e">doSomething</span>();
}
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/max-params"><code>max-params</code></a></li>
</ul>
<h2 id="禁止对函数参数再赋值">禁止对函数参数再赋值</h2>
<p>上文提到过 <code>const</code> 的好处，对于函数参数，道理是一样滴。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/no-param-reassign"><code>no-param-reassign</code></a></li>
</ul>
<h2 id="函数表达式优于函数声明">函数表达式优于函数声明</h2>
<p>理由请见：<a href="https://github.com/airbnb/javascript#functions--declarations">https://github.com/airbnb/javascript#functions&ndash;declarations</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">foo</span>() {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>};

<span style="color:#75715e">// good
</span><span style="color:#75715e">// lexical name distinguished from the variable-referenced invocation(s)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">short</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">longUniqueMoreDescriptiveLexicalFoo</span>() {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>};
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/func-style"><code>func-style</code></a></li>
</ul>
<h2 id="建议使用剩余参数代替-arguments">建议使用剩余参数代替 arguments</h2>
<p><code>arguments</code> 没有 <code>Array.prototype</code> 方法，所以有点不方便。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/prefer-rest-params"><code>prefer-rest-params</code></a></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">concatenateAll</span>() {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">args</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">slice</span>.<span style="color:#a6e22e">call</span>(<span style="color:#a6e22e">arguments</span>);
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">args</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;&#34;</span>);
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">concatenateAll</span>(...<span style="color:#a6e22e">args</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">args</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;&#34;</span>);
}
</code></pre></div><h2 id="避免使用不带-await-表达式的-async-函数">避免使用不带 await 表达式的 async 函数</h2>
<p>JavaScript 中的异步函数与其他函数在两个重要方面表现不同：</p>
<ol>
<li>返回值总是一个  <code>Promise</code></li>
<li>你可以在其中使用  <code>await</code>  操作符</li>
</ol>
<p>不使用 <code>await</code> 的异步函数可能不需要是异步函数（但函数返回值却是<code>Promise</code>) , 也可能是重构的意外结果。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/require-await"><code>require-await</code></a></li>
</ul>
<h2 id="避免不必要的-return-await">避免不必要的 return await</h2>
<p>在 <code>async function</code>, <code>return await</code> 很少有用；</p>
<p>因为 <code>async function</code> 的返回值总是封装在 <code>Promise.resolve</code>, <code>return await</code> 实际上并没有做任何事情，只是在 Promise resolve 或 reject 之前增加了额外的时间；</p>
<p>唯一有效是，如果 try/catch 语句中使用 <code>return await</code> 来捕获另一个基于 Promise 的函数的错误，则会出现异常。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/no-return-await"><code>no-return-await</code></a></li>
</ul>
<h2 id="函数表达式或箭头函数如果只有一个参数也加上括号">函数表达式或箭头函数如果只有一个参数，也加上括号</h2>
<blockquote>
<p>Why? Minimizes diff churn when adding or removing arguments.</p>
</blockquote>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span>);

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">x</span>) =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span>);

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">number</span> =&gt; (
  <span style="color:#e6db74">`A long string with the </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">number</span><span style="color:#e6db74">}</span><span style="color:#e6db74">. It’s so long that we don’t want it to take up space on the .map line!`</span>
));

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">number</span>) =&gt; (
  <span style="color:#e6db74">`A long string with the </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">number</span><span style="color:#e6db74">}</span><span style="color:#e6db74">. It’s so long that we don’t want it to take up space on the .map line!`</span>
));

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">x</span> =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>;
});

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">map</span>((<span style="color:#a6e22e">x</span>) =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>;
});
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/arrow-parens"><code>arrow-parens</code></a></li>
</ul>
<h2 id="不使用魔术数字-magic-number">不使用魔术数字 (Magic Number)</h2>
<p><a href="https://en.wikipedia.org/wiki/Magic_number_(programming)">魔术数字</a> 可以是指硬编码在代码里的具体数值（如 “10”“123” 等以数字直接写出的值）;</p>
<p>虽然程序作者写的时候自己能了解数值的意义，但对其他程序员而言，甚至制作者本人经过一段时间后，会难以了解这个数值的用途，只能苦笑讽刺 &ldquo;这个数值的意义虽然不懂，不过至少程序能够运行，真是个魔术般的数字&rdquo; 而得名。</p>
<blockquote>
<p>本人已在团队中遇到过这种情况（自己写的和他人写的都有！), 所以这个规则是很重要滴！</p>
</blockquote>
<ul>
<li><a href="https://eslint.org/docs/rules/no-magic-numbers"><code>no-magic-numbers</code></a></li>
</ul>
<h2 id="使用严格比较运算符">使用严格比较运算符</h2>
<p>严格比较运算符不会尝试转换它们为恰当的类型来比较。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/eqeqeq"><code>eqeqeq</code></a></li>
</ul>
<h2 id="条件语句中的条件需写清楚比较对象除了布尔值">条件语句中的条件需写清楚比较对象，除了布尔值</h2>
<ul>
<li><strong>Objects</strong> evaluate to <strong>true</strong></li>
<li><strong>Undefined</strong> evaluates to <strong>false</strong></li>
<li><strong>Null</strong> evaluates to <strong>false</strong></li>
<li><strong>Booleans</strong> evaluate to <strong>the value of the boolean</strong></li>
<li><strong>Numbers</strong> evaluate to <strong>false</strong> if <strong>+0, -0, or NaN</strong>, otherwise <strong>true</strong></li>
<li><strong>Strings</strong> evaluate to <strong>false</strong> if an empty string <code>''</code>, otherwise <strong>true</strong></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isValid</span> <span style="color:#f92672">===</span> <span style="color:#66d9ef">true</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isValid</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">name</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">name</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#34;&#34;</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">collection</span>.<span style="color:#a6e22e">length</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">collection</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}
</code></pre></div><h2 id="避免在-switch-的-case-中出现词法声明">避免在 switch 的 case 中出现词法声明</h2>
<p>词法声明 (let, const, function, class) 在整个 switch 语句块中是可见的，但是它只有在运行到它定义的 case 语句时，才会进行初始化操作</p>
<p>为了保证词法声明语句只在当前 case 语句中有效，将你子句包裹在块中</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">foo</span>) {
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">break</span>;
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
    <span style="color:#66d9ef">break</span>;
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>() {
      <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    }
    <span style="color:#66d9ef">break</span>;
  <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span> {}
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">foo</span>) {
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span> {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">break</span>;
  }
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span> {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
    <span style="color:#66d9ef">break</span>;
  }
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span> {
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>() {
      <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    }
    <span style="color:#66d9ef">break</span>;
  }
  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>
    <span style="color:#a6e22e">bar</span>();
    <span style="color:#66d9ef">break</span>;
  <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> {
    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span> {}
  }
}
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/no-case-declarations"><code>no-case-declarations</code></a></li>
</ul>
<h2 id="避免长文件">避免长文件</h2>
<p>根据个人经验，一个特别长的代码文件，很难理解，和维护；</p>
<p>因此建议将大文件拆分成更细粒度的模块。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/max-lines"><code>max-lines</code></a></li>
</ul>
<h2 id="避免长函数">避免长函数</h2>
<p>程序复杂度的一个来源是漫长而复杂的函数，很难推理；</p>
<p>而且函数职责太多，很难测试。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/max-lines-per-function"><code>max-lines-per-function</code></a></li>
</ul>
<h2 id="避免复杂函数">避免复杂函数</h2>
<p>复杂函数往往就是长函数，反之亦然；</p>
<p>函数之所以变复杂可能有很多因素，但其中嵌套回调和圈复杂度较高都是比较容易解决的。</p>
<blockquote>
<p>圈复杂度：它指的是给定函数中的语句（逻辑）数，诸如 if 语句，循环和 switch 语句</p>
</blockquote>
<ul>
<li><a href="https://eslint.org/docs/rules/complexity"><code>complexity</code></a></li>
<li><a href="https://eslint.org/docs/rules/max-nested-callbacks"><code>max-nested-callbacks</code></a></li>
<li><a href="https://eslint.org/docs/rules/max-depth"><code>max-depth</code></a></li>
</ul>
<h2 id="避免嵌套层级过深">避免嵌套层级过深</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">condition</span>) {
    <span style="color:#75715e">// 一层嵌套
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>  }
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">condition</span>) {
    <span style="color:#66d9ef">continue</span>;
  }
  <span style="color:#75715e">// 没有额外的嵌套
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">pow</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">n</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Negative &#39;n&#39; not supported&#34;</span>);
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#75715e">// 一层嵌套
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;

    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
      <span style="color:#a6e22e">result</span> <span style="color:#f92672">*=</span> <span style="color:#a6e22e">x</span>;
    }

    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
  }
}

<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">pow</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">n</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
    <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;Negative &#39;n&#39; not supported&#34;</span>);
    <span style="color:#66d9ef">return</span>;
  }

  <span style="color:#75715e">// 没有额外的嵌套
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#a6e22e">result</span> <span style="color:#f92672">*=</span> <span style="color:#a6e22e">x</span>;
  }

  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
}
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/max-depth"><code>max-depth</code></a></li>
<li><a href="https://eslint.org/docs/rules/no-else-return"><code>no-else-return</code></a></li>
</ul>
<h2 id="禁止抛出异常字面量">禁止抛出异常字面量</h2>
<p>当抛错时，仅抛出 <code>Error</code> 类，或者以 <code>Error</code> 为父类的继承类的错误；</p>
<p>使用 <code>Error</code> 类对象最基本的好处是它们能自动地追踪到异常产生和起源的地方。</p>
<p>同时，传递给 <code>Promise</code> 的 <code>reject</code> 也应该是 <code>Error</code> 类对象</p>
<ul>
<li><a href="https://eslint.org/docs/rules/no-throw-literal"><code>no-throw-literal</code></a></li>
<li><a href="https://eslint.org/docs/rules/prefer-promise-reject-errors"><code>prefer-promise-reject-errors</code></a></li>
</ul>
<h2 id="避免不必要的-catch-子句">避免不必要的 catch 子句</h2>
<p>只重新抛出原始错误的 catch 子句是冗余的，对程序的运行时行为没有影响；</p>
<p>这些冗余子句可能会导致混乱和代码膨胀，所以最好不要使用这些不必要的 catch 子句。</p>
<ul>
<li><a href="https://eslint.org/docs/rules/no-useless-catch"><code>no-useless-catch</code></a></li>
</ul>
<h2 id="建议在正则表达式中使用命名捕获组">建议在正则表达式中使用命名捕获组</h2>
<p>随着 ECMAScript 2018 的发布，命名捕获组可以用于正则表达式中，这可以提高正则表达式的可读性。</p>
<p>格式：<code>/(?&lt;name&gt;pattern)/</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// bad
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/(ba[rz])/</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bar</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#34;(ba[rz])&#34;</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">baz</span> <span style="color:#f92672">=</span> RegExp(<span style="color:#e6db74">&#34;(ba[rz])&#34;</span>);

<span style="color:#a6e22e">foo</span>.<span style="color:#a6e22e">exec</span>(<span style="color:#e6db74">&#34;bar&#34;</span>)[<span style="color:#ae81ff">1</span>]; <span style="color:#75715e">// Retrieve the group result.
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// good
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">foo</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/(?&lt;id&gt;ba[rz])/</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bar</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#34;(?&lt;id&gt;ba[rz])&#34;</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">baz</span> <span style="color:#f92672">=</span> RegExp(<span style="color:#e6db74">&#34;(?&lt;id&gt;ba[rz])&#34;</span>);

<span style="color:#a6e22e">foo</span>.<span style="color:#a6e22e">exec</span>(<span style="color:#e6db74">&#34;bar&#34;</span>).<span style="color:#a6e22e">groups</span>.<span style="color:#a6e22e">id</span>; <span style="color:#75715e">// Retrieve the group result.
</span></code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/prefer-named-capture-group"><code>prefer-named-capture-group</code></a></li>
</ul>
<h2 id="变量命名习惯">变量命名习惯</h2>
<ul>
<li>布尔相关命名加上 is, can, should, has 等前缀，或者 [a]ble 后缀</li>
<li>用 min, max 表示数量范围</li>
<li>用 first, last 表示闭区间</li>
<li>用 begin, end 表示左闭右开区间</li>
<li>用 prev, curr, next 表示前者，当前，后者</li>
</ul>
<p>更多信息，请见 <a href="https://github.com/kettanaito/naming-cheatsheet">naming-cheatsheet</a></p>
<h2 id="辅助函数的位置">辅助函数的位置</h2>
<p>如果你正在写“辅助”函数和这些函数的调用代码，那么有下列这几种方式来处理调用代码的位置。</p>
<ol>
<li>
<p>调用代码处于函数中，则辅助函数放在下方</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">caller</span> <span style="color:#f92672">=</span> () =&gt; {
  <span style="color:#a6e22e">helper1</span>();
  <span style="color:#a6e22e">helper2</span>();
};

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">helper1</span> <span style="color:#f92672">=</span> () =&gt; {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>};

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">helper2</span> <span style="color:#f92672">=</span> () =&gt; {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>};
</code></pre></div></li>
<li>
<p>调用代码不处于函数中，则辅助函数放在上方</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">helper1</span> <span style="color:#f92672">=</span> () =&gt; {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>};

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">helper2</span> <span style="color:#f92672">=</span> () =&gt; {
  <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>};

<span style="color:#a6e22e">helper1</span>();
<span style="color:#a6e22e">helper2</span>();
</code></pre></div></li>
</ol>
<blockquote>
<p>注意：即使上面的辅助函数是函数声明或者函数表达式，辅助函数的位置也不变。</p>
</blockquote>
<p>大多数情况下，我都是用第一种。 因为模块在大部分情况下都是导出函数；</p>
<p>其次，自己或别人在阅读该模块时，首先看到的就是该模块的主要逻辑，即能知道该模块做了什么（当然，这依赖辅助函数的命名是否足够好）；</p>
<p>当知道该模块的主要逻辑后，我们可能就不需要去看辅助函数了。</p>
<h2 id="总是添加额外的逗号">总是添加额外的逗号</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff">// bad - git diff without trailing comma
const hero = {
     firstName: &#39;Florence&#39;,
<span style="color:#f92672">-    lastName: &#39;Nightingale&#39;
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+    lastName: &#39;Nightingale&#39;,
</span><span style="color:#a6e22e">+    inventorOf: [&#39;coxcomb chart&#39;, &#39;modern nursing&#39;]
</span><span style="color:#a6e22e"></span>};

// good - git diff with trailing comma
const hero = {
     firstName: &#39;Florence&#39;,
     lastName: &#39;Nightingale&#39;,
<span style="color:#a6e22e">+    inventorOf: [&#39;coxcomb chart&#39;, &#39;modern nursing&#39;],
</span><span style="color:#a6e22e"></span>};
</code></pre></div><ul>
<li><a href="https://eslint.org/docs/rules/comma-dangle"><code>comma-dangle</code></a>: eslint 使用该规则， 但个人是通过 prettier 的 <a href="https://prettier.io/docs/en/options.html#trailing-commas"><code>trailingComma</code></a> 来控制；</li>
</ul>
<h2 id="参考">参考</h2>
<ul>
<li><a href="https://www.infoq.cn/article/UDsIAw36kwXwkXLNx_QT">JS 代码脏乱差？你需要知道这些优化技巧</a></li>
<li><a href="https://github.com/ryanmcdermott/clean-code-javascript">🛁 Clean Code concepts adapted for JavaScript</a></li>
<li><a href="https://github.com/goldbergyoni/nodebestpractices">Node.js Best Practices</a></li>
<li><a href="https://github.com/airbnb/javascript">Airbnb JavaScript Style Guide</a></li>
<li><a href="https://github.com/CyC2018/CS-Notes">Cs-Notes</a></li>
<li><a href="https://github.com/kettanaito/naming-cheatsheet">naming-cheatsheet</a></li>
</ul>

        </div>

        <div class="row middle-xs">
          <div class="col-xs-12">
            
          </div>
        </div>
        
          <div class="row">
            <div class="col-xs-12">
              
            </div>
          </div>

          

<div class="related-content">
  <h3>Related Posts</h3>
  <ul>
    
    <li><a href="/post/nodejs-call-wechat-img-sec-check-api/">Node.js 调用微信小程序图片校验接口</a></li>
    
    <li><a href="/post/nodejs-supported-encoding/">Node.js 支持的编码</a></li>
    
  </ul>
</div>



          
          
          <div style="height: 50px;"></div>
          
        

        <div class="site-footer">
  
  <div class="site-footer-item">
    <a href="https://github.com/CsYakamoz" target="_blank">Github</a>
  </div>
  
  <div class="site-footer-item">
    <a href="https://leetcode.com/CsYakamoz/" target="_blank">LeetCode</a>
  </div>
  
  
</div>

      </div>
    </div>
  </article>

  <script src="/js/highlight.pack.js"></script>


<script>
  hljs.initHighlightingOnLoad();
  
  
  
    
    
  
</script>

  

</body>

</html>